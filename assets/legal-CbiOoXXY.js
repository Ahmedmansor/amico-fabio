import"./global-header-CNxNu7ut.js";import"./global-footer-D0aab2x-.js";import"./main-DWs3_6Ab.js";(function(){function l(d,g,r){const n=document.createElement(d);return g&&(n.className=g),r&&(n.textContent=r),n}function S(d){return d==="en"?window.i18nEn||{}:window.i18nIt||{}}function B(d){const g=document.getElementById("legal-content"),r=document.getElementById("legal-toc"),n=document.getElementById("legal-toc-top"),f=document.querySelector("#indexMenu .index-menu-nav");if(!g||!r)return;const x=d||localStorage.getItem("fabio_lang")||document.documentElement.lang||"it",u=S(x).legal_page||{};r.innerHTML="",n&&(n.innerHTML=""),f&&(f.innerHTML="");const E=Array.isArray(u.toc)?u.toc:[],v=Array.isArray(u.summary_items)?u.summary_items:E;E.forEach(e=>{const t=l("a","legal-link",e.label||"");if(t.href="#"+e.id,r.appendChild(t),f){const i=l("a","index-link",e.label||"");i.href="#"+e.id,f.appendChild(i)}}),n&&v.forEach(e=>{const t=l("a","legal-link",e.label||"");t.href="#"+e.id,n.appendChild(t)}),g.innerHTML="";const b=Array.isArray(u.sections)?u.sections:[];b.forEach((e,t)=>{const i=l("div","legal-section");i.id=e.id,i.classList.add("animate-fade-up"),t===1&&i.classList.add("delay-100"),t===2&&i.classList.add("delay-200");const h=l("div","heading-row"),I=window.ImagePaths&&window.ImagePaths.icons&&window.ImagePaths.icons.legal&&window.ImagePaths.icons.legal[e.id]?window.ImagePaths.icons.legal[e.id]:window.ImagePaths&&window.ImagePaths.icons&&window.ImagePaths.icons.legal?window.ImagePaths.icons.legal.default:"";if(I){const c=l("img","heading-icon");c.src=I,c.alt=e.heading||"",h.appendChild(c)}const M=l("h3","legal-subtitle text-xl",e.heading||"");h.appendChild(M),i.appendChild(h);const A=Array.isArray(e.paragraphs)?e.paragraphs:[];let y=null;if(A.forEach(c=>{if(typeof c=="string"&&c.trim().startsWith("•")){y||(y=l("ul","gold-list"),i.appendChild(y));const p=l("li","",c.replace(/^•\s*/,""));y.appendChild(p)}else{y=null;const p=l("p","text-sm leading-relaxed text-gray-300 mb-3",c);i.appendChild(p)}}),e.id==="data_types"){const c=[];for(let m=0;m<A.length;m++){const w=String(A[m]||"").match(/:\s*([^\.]+)\.?/);if(w&&w[1]){w[1].split(",").forEach(P=>{let L=P.trim();L=L.replace(/^(and|e)\s+/i,"").trim(),L&&c.push(L)});break}}if(c.length){const m=l("div","chip-list");c.forEach(p=>{const w=l("span","chip",p);m.appendChild(w)}),i.insertBefore(m,i.querySelector("p"))}}g.appendChild(i)});function o(e){const t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}function a(e){e&&e.querySelectorAll("a").forEach(t=>{t.addEventListener("click",i=>{i.preventDefault(),o(i.currentTarget.getAttribute("href"));const h=document.getElementById("indexMenu");h&&h.classList.remove("is-visible")})})}a(r),a(n),a(f);const s={};r.querySelectorAll("a").forEach(e=>{s[e.getAttribute("href")]=[e]}),n&&n.querySelectorAll("a").forEach(e=>{const t=e.getAttribute("href");s[t]?s[t].push(e):s[t]=[e]}),f&&f.querySelectorAll("a").forEach(e=>{const t=e.getAttribute("href");s[t]?s[t].push(e):s[t]=[e]});function q(e){Object.values(s).forEach(h=>h.forEach(I=>I.classList.remove("active")));const t="#"+e;(s[t]||[]).forEach(h=>h.classList.add("active"))}const k=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&q(t.target.id)})},{rootMargin:"0px 0px -60% 0px",threshold:.25});b.forEach(e=>{const t=document.getElementById(e.id);t&&k.observe(t)})}window.renderLegal=B,document.addEventListener("DOMContentLoaded",function(){const d=localStorage.getItem("fabio_lang")||"it";B(d),typeof applyTranslations=="function"&&applyTranslations(d);const g=new IntersectionObserver(o=>{o.forEach(a=>{a.isIntersecting&&a.target.classList.add("is-visible")})},{threshold:.1});document.querySelectorAll(".legal-section").forEach(o=>g.observe(o));const r=document.getElementById("legal-fab"),n=document.getElementById("indexMenu"),f=n?n.querySelector(".index-menu-close"):null,x=document.querySelector(".gh-fab-label"),C=document.getElementById("whatsapp-wrapper"),u=document.querySelector(".floating-whatsapp"),E=document.querySelector(".wa-fab-label");if(r&&n){const o=S(d),a=document.querySelector(".gh-fab-label"),s=o&&o.fab&&typeof o.fab.indice=="string"?o.fab.indice:d==="en"?"Index":"Indice";r.setAttribute("aria-label",s),a&&(a.textContent=s),r.addEventListener("click",()=>{n.classList.add("is-visible")})}f&&n&&f.addEventListener("click",()=>{n.classList.remove("is-visible")}),n&&n.addEventListener("click",o=>{o.target===n&&n.classList.remove("is-visible")});const v=document.getElementById("global-footer")||document.querySelector("footer"),b=o=>{[r,x,u,E,C].forEach(a=>{a&&a.classList.toggle("fab-hidden",o)})};b(!1),v&&new IntersectionObserver(a=>{a.forEach(s=>{b(s.isIntersecting)})},{threshold:.1}).observe(v)})})();
